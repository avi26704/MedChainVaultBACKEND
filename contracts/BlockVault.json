{
  "_format": "hh-sol-artifact-1",
  "contractName": "BlockVault",
  "sourceName": "contracts/FileRegistry.sol",
  "abi": [
    {
      "inputs": [],
      "name": "ECDSAInvalidSignature",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "length",
          "type": "uint256"
        }
      ],
      "name": "ECDSAInvalidSignatureLength",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "s",
          "type": "bytes32"
        }
      ],
      "name": "ECDSAInvalidSignatureS",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "fileHash",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "uploader",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsCID",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "FileUploaded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "fileHash",
          "type": "bytes32"
        }
      ],
      "name": "getFileRecord",
      "outputs": [
        {
          "internalType": "address",
          "name": "uploader",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "ipfsCID",
          "type": "string"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "fileHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "ipfsCID",
          "type": "string"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        }
      ],
      "name": "uploadFile",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "fileHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        },
        {
          "internalType": "address",
          "name": "expectedSigner",
          "type": "address"
        }
      ],
      "name": "verifySignature",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50611402806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c806331cd419914610046578063afab979414610076578063ebe21d6314610092575b600080fd5b610060600480360381019061005b91906109d3565b6100c5565b60405161006d9190610a5d565b60405180910390f35b610090600480360381019061008b9190610b2e565b61013c565b005b6100ac60048036038101906100a79190610bc3565b61038f565b6040516100bc9493929190610cec565b60405180910390f35b600080846040516020016100d99190610db7565b6040516020818303038152906040528051906020012090508273ffffffffffffffffffffffffffffffffffffffff1661011b858361050590919063ffffffff16565b73ffffffffffffffffffffffffffffffffffffffff16149150509392505050565b600073ffffffffffffffffffffffffffffffffffffffff1660008087815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146101e0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101d790610e29565b60405180910390fd5b60405180608001604052803373ffffffffffffffffffffffffffffffffffffffff16815260200183838080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050815260200185858080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505081526020014281525060008087815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101908161030d9190611055565b5060408201518160020190816103239190611182565b50606082015181600301559050503373ffffffffffffffffffffffffffffffffffffffff16857f32acdee9de59640e596cd9b14f8caf0a87067c6f54061378f4af1b4933fef4cd86868686426040516103809594939291906112ae565b60405180910390a35050505050565b600060608060008060008087815260200190815260200160002090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16816002018260010183600301548280546103e990610e78565b80601f016020809104026020016040519081016040528092919081815260200182805461041590610e78565b80156104625780601f1061043757610100808354040283529160200191610462565b820191906000526020600020905b81548152906001019060200180831161044557829003601f168201915b5050505050925081805461047590610e78565b80601f01602080910402602001604051908101604052809291908181526020018280546104a190610e78565b80156104ee5780601f106104c3576101008083540402835291602001916104ee565b820191906000526020600020905b8154815290600101906020018083116104d157829003601f168201915b505050505091509450945094509450509193509193565b6000806000806105158686610531565b925092509250610525828261058d565b82935050505092915050565b600080600060418451036105765760008060006020870151925060408701519150606087015160001a9050610568888285856106f1565b955095509550505050610586565b60006002855160001b9250925092505b9250925092565b600060038111156105a1576105a06112f7565b5b8260038111156105b4576105b36112f7565b5b03156106ed57600160038111156105ce576105cd6112f7565b5b8260038111156105e1576105e06112f7565b5b03610618576040517ff645eedf00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6002600381111561062c5761062b6112f7565b5b82600381111561063f5761063e6112f7565b5b03610684578060001c6040517ffce698f700000000000000000000000000000000000000000000000000000000815260040161067b9190611326565b60405180910390fd5b600380811115610697576106966112f7565b5b8260038111156106aa576106a96112f7565b5b036106ec57806040517fd78bce0c0000000000000000000000000000000000000000000000000000000081526004016106e39190611350565b60405180910390fd5b5b5050565b60008060007f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08460001c11156107315760006003859250925092506107db565b6000600188888888604051600081526020016040526040516107569493929190611387565b6020604051602081039080840390855afa158015610778573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036107cc57600060016000801b935093509350506107db565b8060008060001b935093509350505b9450945094915050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b61080c816107f9565b811461081757600080fd5b50565b60008135905061082981610803565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61088282610839565b810181811067ffffffffffffffff821117156108a1576108a061084a565b5b80604052505050565b60006108b46107e5565b90506108c08282610879565b919050565b600067ffffffffffffffff8211156108e0576108df61084a565b5b6108e982610839565b9050602081019050919050565b82818337600083830152505050565b6000610918610913846108c5565b6108aa565b90508281526020810184848401111561093457610933610834565b5b61093f8482856108f6565b509392505050565b600082601f83011261095c5761095b61082f565b5b813561096c848260208601610905565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006109a082610975565b9050919050565b6109b081610995565b81146109bb57600080fd5b50565b6000813590506109cd816109a7565b92915050565b6000806000606084860312156109ec576109eb6107ef565b5b60006109fa8682870161081a565b935050602084013567ffffffffffffffff811115610a1b57610a1a6107f4565b5b610a2786828701610947565b9250506040610a38868287016109be565b9150509250925092565b60008115159050919050565b610a5781610a42565b82525050565b6000602082019050610a726000830184610a4e565b92915050565b600080fd5b600080fd5b60008083601f840112610a9857610a9761082f565b5b8235905067ffffffffffffffff811115610ab557610ab4610a78565b5b602083019150836001820283011115610ad157610ad0610a7d565b5b9250929050565b60008083601f840112610aee57610aed61082f565b5b8235905067ffffffffffffffff811115610b0b57610b0a610a78565b5b602083019150836001820283011115610b2757610b26610a7d565b5b9250929050565b600080600080600060608688031215610b4a57610b496107ef565b5b6000610b588882890161081a565b955050602086013567ffffffffffffffff811115610b7957610b786107f4565b5b610b8588828901610a82565b9450945050604086013567ffffffffffffffff811115610ba857610ba76107f4565b5b610bb488828901610ad8565b92509250509295509295909350565b600060208284031215610bd957610bd86107ef565b5b6000610be78482850161081a565b91505092915050565b610bf981610995565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610c39578082015181840152602081019050610c1e565b60008484015250505050565b6000610c5082610bff565b610c5a8185610c0a565b9350610c6a818560208601610c1b565b610c7381610839565b840191505092915050565b600081519050919050565b600082825260208201905092915050565b6000610ca582610c7e565b610caf8185610c89565b9350610cbf818560208601610c1b565b610cc881610839565b840191505092915050565b6000819050919050565b610ce681610cd3565b82525050565b6000608082019050610d016000830187610bf0565b8181036020830152610d138186610c45565b90508181036040830152610d278185610c9a565b9050610d366060830184610cdd565b95945050505050565b600081905092915050565b7f19457468657265756d205369676e6564204d6573736167653a0a333200000000600082015250565b6000610d80601c83610d3f565b9150610d8b82610d4a565b601c82019050919050565b6000819050919050565b610db1610dac826107f9565b610d96565b82525050565b6000610dc282610d73565b9150610dce8284610da0565b60208201915081905092915050565b7f46696c6520616c72656164792075706c6f616465640000000000000000000000600082015250565b6000610e13601583610c0a565b9150610e1e82610ddd565b602082019050919050565b60006020820190508181036000830152610e4281610e06565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610e9057607f821691505b602082108103610ea357610ea2610e49565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610f0b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610ece565b610f158683610ece565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610f52610f4d610f4884610cd3565b610f2d565b610cd3565b9050919050565b6000819050919050565b610f6c83610f37565b610f80610f7882610f59565b848454610edb565b825550505050565b600090565b610f95610f88565b610fa0818484610f63565b505050565b5b81811015610fc457610fb9600082610f8d565b600181019050610fa6565b5050565b601f82111561100957610fda81610ea9565b610fe384610ebe565b81016020851015610ff2578190505b611006610ffe85610ebe565b830182610fa5565b50505b505050565b600082821c905092915050565b600061102c6000198460080261100e565b1980831691505092915050565b6000611045838361101b565b9150826002028217905092915050565b61105e82610c7e565b67ffffffffffffffff8111156110775761107661084a565b5b6110818254610e78565b61108c828285610fc8565b600060209050601f8311600181146110bf57600084156110ad578287015190505b6110b78582611039565b86555061111f565b601f1984166110cd86610ea9565b60005b828110156110f5578489015182556001820191506020850194506020810190506110d0565b86831015611112578489015161110e601f89168261101b565b8355505b6001600288020188555050505b505050505050565b60008190508160005260206000209050919050565b601f82111561117d5761114e81611127565b61115784610ebe565b81016020851015611166578190505b61117a61117285610ebe565b830182610fa5565b50505b505050565b61118b82610bff565b67ffffffffffffffff8111156111a4576111a361084a565b5b6111ae8254610e78565b6111b982828561113c565b600060209050601f8311600181146111ec57600084156111da578287015190505b6111e48582611039565b86555061124c565b601f1984166111fa86611127565b60005b82811015611222578489015182556001820191506020850194506020810190506111fd565b8683101561123f578489015161123b601f89168261101b565b8355505b6001600288020188555050505b505050505050565b60006112608385610c0a565b935061126d8385846108f6565b61127683610839565b840190509392505050565b600061128d8385610c89565b935061129a8385846108f6565b6112a383610839565b840190509392505050565b600060608201905081810360008301526112c9818789611254565b905081810360208301526112de818587611281565b90506112ed6040830184610cdd565b9695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600060208201905061133b6000830184610cdd565b92915050565b61134a816107f9565b82525050565b60006020820190506113656000830184611341565b92915050565b600060ff82169050919050565b6113818161136b565b82525050565b600060808201905061139c6000830187611341565b6113a96020830186611378565b6113b66040830185611341565b6113c36060830184611341565b9594505050505056fea2646970667358221220cb5ad965daa4ec305c2d78d2efa9fb521cbeae589731cbfcf142de2dc1ae35b464736f6c63430008180033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100415760003560e01c806331cd419914610046578063afab979414610076578063ebe21d6314610092575b600080fd5b610060600480360381019061005b91906109d3565b6100c5565b60405161006d9190610a5d565b60405180910390f35b610090600480360381019061008b9190610b2e565b61013c565b005b6100ac60048036038101906100a79190610bc3565b61038f565b6040516100bc9493929190610cec565b60405180910390f35b600080846040516020016100d99190610db7565b6040516020818303038152906040528051906020012090508273ffffffffffffffffffffffffffffffffffffffff1661011b858361050590919063ffffffff16565b73ffffffffffffffffffffffffffffffffffffffff16149150509392505050565b600073ffffffffffffffffffffffffffffffffffffffff1660008087815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146101e0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101d790610e29565b60405180910390fd5b60405180608001604052803373ffffffffffffffffffffffffffffffffffffffff16815260200183838080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050815260200185858080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505081526020014281525060008087815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101908161030d9190611055565b5060408201518160020190816103239190611182565b50606082015181600301559050503373ffffffffffffffffffffffffffffffffffffffff16857f32acdee9de59640e596cd9b14f8caf0a87067c6f54061378f4af1b4933fef4cd86868686426040516103809594939291906112ae565b60405180910390a35050505050565b600060608060008060008087815260200190815260200160002090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16816002018260010183600301548280546103e990610e78565b80601f016020809104026020016040519081016040528092919081815260200182805461041590610e78565b80156104625780601f1061043757610100808354040283529160200191610462565b820191906000526020600020905b81548152906001019060200180831161044557829003601f168201915b5050505050925081805461047590610e78565b80601f01602080910402602001604051908101604052809291908181526020018280546104a190610e78565b80156104ee5780601f106104c3576101008083540402835291602001916104ee565b820191906000526020600020905b8154815290600101906020018083116104d157829003601f168201915b505050505091509450945094509450509193509193565b6000806000806105158686610531565b925092509250610525828261058d565b82935050505092915050565b600080600060418451036105765760008060006020870151925060408701519150606087015160001a9050610568888285856106f1565b955095509550505050610586565b60006002855160001b9250925092505b9250925092565b600060038111156105a1576105a06112f7565b5b8260038111156105b4576105b36112f7565b5b03156106ed57600160038111156105ce576105cd6112f7565b5b8260038111156105e1576105e06112f7565b5b03610618576040517ff645eedf00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6002600381111561062c5761062b6112f7565b5b82600381111561063f5761063e6112f7565b5b03610684578060001c6040517ffce698f700000000000000000000000000000000000000000000000000000000815260040161067b9190611326565b60405180910390fd5b600380811115610697576106966112f7565b5b8260038111156106aa576106a96112f7565b5b036106ec57806040517fd78bce0c0000000000000000000000000000000000000000000000000000000081526004016106e39190611350565b60405180910390fd5b5b5050565b60008060007f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08460001c11156107315760006003859250925092506107db565b6000600188888888604051600081526020016040526040516107569493929190611387565b6020604051602081039080840390855afa158015610778573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036107cc57600060016000801b935093509350506107db565b8060008060001b935093509350505b9450945094915050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b61080c816107f9565b811461081757600080fd5b50565b60008135905061082981610803565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61088282610839565b810181811067ffffffffffffffff821117156108a1576108a061084a565b5b80604052505050565b60006108b46107e5565b90506108c08282610879565b919050565b600067ffffffffffffffff8211156108e0576108df61084a565b5b6108e982610839565b9050602081019050919050565b82818337600083830152505050565b6000610918610913846108c5565b6108aa565b90508281526020810184848401111561093457610933610834565b5b61093f8482856108f6565b509392505050565b600082601f83011261095c5761095b61082f565b5b813561096c848260208601610905565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006109a082610975565b9050919050565b6109b081610995565b81146109bb57600080fd5b50565b6000813590506109cd816109a7565b92915050565b6000806000606084860312156109ec576109eb6107ef565b5b60006109fa8682870161081a565b935050602084013567ffffffffffffffff811115610a1b57610a1a6107f4565b5b610a2786828701610947565b9250506040610a38868287016109be565b9150509250925092565b60008115159050919050565b610a5781610a42565b82525050565b6000602082019050610a726000830184610a4e565b92915050565b600080fd5b600080fd5b60008083601f840112610a9857610a9761082f565b5b8235905067ffffffffffffffff811115610ab557610ab4610a78565b5b602083019150836001820283011115610ad157610ad0610a7d565b5b9250929050565b60008083601f840112610aee57610aed61082f565b5b8235905067ffffffffffffffff811115610b0b57610b0a610a78565b5b602083019150836001820283011115610b2757610b26610a7d565b5b9250929050565b600080600080600060608688031215610b4a57610b496107ef565b5b6000610b588882890161081a565b955050602086013567ffffffffffffffff811115610b7957610b786107f4565b5b610b8588828901610a82565b9450945050604086013567ffffffffffffffff811115610ba857610ba76107f4565b5b610bb488828901610ad8565b92509250509295509295909350565b600060208284031215610bd957610bd86107ef565b5b6000610be78482850161081a565b91505092915050565b610bf981610995565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610c39578082015181840152602081019050610c1e565b60008484015250505050565b6000610c5082610bff565b610c5a8185610c0a565b9350610c6a818560208601610c1b565b610c7381610839565b840191505092915050565b600081519050919050565b600082825260208201905092915050565b6000610ca582610c7e565b610caf8185610c89565b9350610cbf818560208601610c1b565b610cc881610839565b840191505092915050565b6000819050919050565b610ce681610cd3565b82525050565b6000608082019050610d016000830187610bf0565b8181036020830152610d138186610c45565b90508181036040830152610d278185610c9a565b9050610d366060830184610cdd565b95945050505050565b600081905092915050565b7f19457468657265756d205369676e6564204d6573736167653a0a333200000000600082015250565b6000610d80601c83610d3f565b9150610d8b82610d4a565b601c82019050919050565b6000819050919050565b610db1610dac826107f9565b610d96565b82525050565b6000610dc282610d73565b9150610dce8284610da0565b60208201915081905092915050565b7f46696c6520616c72656164792075706c6f616465640000000000000000000000600082015250565b6000610e13601583610c0a565b9150610e1e82610ddd565b602082019050919050565b60006020820190508181036000830152610e4281610e06565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610e9057607f821691505b602082108103610ea357610ea2610e49565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610f0b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610ece565b610f158683610ece565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610f52610f4d610f4884610cd3565b610f2d565b610cd3565b9050919050565b6000819050919050565b610f6c83610f37565b610f80610f7882610f59565b848454610edb565b825550505050565b600090565b610f95610f88565b610fa0818484610f63565b505050565b5b81811015610fc457610fb9600082610f8d565b600181019050610fa6565b5050565b601f82111561100957610fda81610ea9565b610fe384610ebe565b81016020851015610ff2578190505b611006610ffe85610ebe565b830182610fa5565b50505b505050565b600082821c905092915050565b600061102c6000198460080261100e565b1980831691505092915050565b6000611045838361101b565b9150826002028217905092915050565b61105e82610c7e565b67ffffffffffffffff8111156110775761107661084a565b5b6110818254610e78565b61108c828285610fc8565b600060209050601f8311600181146110bf57600084156110ad578287015190505b6110b78582611039565b86555061111f565b601f1984166110cd86610ea9565b60005b828110156110f5578489015182556001820191506020850194506020810190506110d0565b86831015611112578489015161110e601f89168261101b565b8355505b6001600288020188555050505b505050505050565b60008190508160005260206000209050919050565b601f82111561117d5761114e81611127565b61115784610ebe565b81016020851015611166578190505b61117a61117285610ebe565b830182610fa5565b50505b505050565b61118b82610bff565b67ffffffffffffffff8111156111a4576111a361084a565b5b6111ae8254610e78565b6111b982828561113c565b600060209050601f8311600181146111ec57600084156111da578287015190505b6111e48582611039565b86555061124c565b601f1984166111fa86611127565b60005b82811015611222578489015182556001820191506020850194506020810190506111fd565b8683101561123f578489015161123b601f89168261101b565b8355505b6001600288020188555050505b505050505050565b60006112608385610c0a565b935061126d8385846108f6565b61127683610839565b840190509392505050565b600061128d8385610c89565b935061129a8385846108f6565b6112a383610839565b840190509392505050565b600060608201905081810360008301526112c9818789611254565b905081810360208301526112de818587611281565b90506112ed6040830184610cdd565b9695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600060208201905061133b6000830184610cdd565b92915050565b61134a816107f9565b82525050565b60006020820190506113656000830184611341565b92915050565b600060ff82169050919050565b6113818161136b565b82525050565b600060808201905061139c6000830187611341565b6113a96020830186611378565b6113b66040830185611341565b6113c36060830184611341565b9594505050505056fea2646970667358221220cb5ad965daa4ec305c2d78d2efa9fb521cbeae589731cbfcf142de2dc1ae35b464736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
